{"ast":null,"code":"import{FETCH_PRODUCTS,FILTER_PRODUCTS_BY_SIZE,ORDER_PRODUCTS_BY_PRICE}from\"./types\";export var fetchProducts=function fetchProducts(){return function(dispatch){fetch(\"http://localhost:8000/products\").then(function(res){return res.json();}).catch(function(err){return fetch(\"db.json\").then(function(res){return res.json();}).then(function(data){return data.products;});}).then(function(data){dispatch({type:FETCH_PRODUCTS,payload:data});});};};export var filterProducts=function filterProducts(products,size){return function(dispatch){dispatch({type:FILTER_PRODUCTS_BY_SIZE,payload:{size:size,items:size===\"\"?products:products.filter(function(x){return x.category.indexOf(size.toUpperCase())>=0;})}});};};export var sortProducts=function sortProducts(items,sort){return function(dispatch){var products=items.slice();if(sort!==\"\"){products.sort(function(a,b){return sort===\"lowestprice\"?a.price>b.price?1:-1:a.price<b.price?1:-1;});}else{products.sort(function(a,b){return a.id>b.id?1:-1;});}dispatch({type:ORDER_PRODUCTS_BY_PRICE,payload:{sort:sort,items:products}});};};","map":{"version":3,"sources":["/home/iassureit/Desktop/ReduxShop/Ecom-React-Redux/src/actions/productActions.js"],"names":["FETCH_PRODUCTS","FILTER_PRODUCTS_BY_SIZE","ORDER_PRODUCTS_BY_PRICE","fetchProducts","dispatch","fetch","then","res","json","catch","err","data","products","type","payload","filterProducts","size","items","filter","x","category","indexOf","toUpperCase","sortProducts","sort","slice","a","b","price","id"],"mappings":"AAAA,OACIA,cADJ,CAEIC,uBAFJ,CAGIC,uBAHJ,KAIS,SAJT,CAME,MAAO,IAAMC,CAAAA,aAAa,CAAG,QAAhBA,CAAAA,aAAgB,SAAM,UAACC,QAAD,CAAc,CAC/CC,KAAK,CAAC,gCAAD,CAAL,CACGC,IADH,CACQ,SAACC,GAAD,QAASA,CAAAA,GAAG,CAACC,IAAJ,EAAT,EADR,EAEGC,KAFH,CAES,SAACC,GAAD,QACLL,CAAAA,KAAK,CAAC,SAAD,CAAL,CACGC,IADH,CACQ,SAACC,GAAD,QAASA,CAAAA,GAAG,CAACC,IAAJ,EAAT,EADR,EAEGF,IAFH,CAEQ,SAACK,IAAD,QAAUA,CAAAA,IAAI,CAACC,QAAf,EAFR,CADK,EAFT,EAOGN,IAPH,CAOQ,SAACK,IAAD,CAAU,CACdP,QAAQ,CAAC,CAAES,IAAI,CAAEb,cAAR,CAAwBc,OAAO,CAAEH,IAAjC,CAAD,CAAR,CACD,CATH,EAUD,CAX4B,EAAtB,CAaP,MAAO,IAAMI,CAAAA,cAAc,CAAG,QAAjBA,CAAAA,cAAiB,CAACH,QAAD,CAAWI,IAAX,QAAoB,UAACZ,QAAD,CAAc,CAC9DA,QAAQ,CAAC,CACPS,IAAI,CAAEZ,uBADC,CAEPa,OAAO,CAAE,CACPE,IAAI,CAAEA,IADC,CAEPC,KAAK,CACHD,IAAI,GAAK,EAAT,CACIJ,QADJ,CAEIA,QAAQ,CAACM,MAAT,CACE,SAACC,CAAD,QAAOA,CAAAA,CAAC,CAACC,QAAF,CAAWC,OAAX,CAAmBL,IAAI,CAACM,WAAL,EAAnB,GAA0C,CAAjD,EADF,CALC,CAFF,CAAD,CAAR,CAYD,CAb6B,EAAvB,CAeP,MAAO,IAAMC,CAAAA,YAAY,CAAG,QAAfA,CAAAA,YAAe,CAACN,KAAD,CAAQO,IAAR,QAAiB,UAACpB,QAAD,CAAc,CACzD,GAAMQ,CAAAA,QAAQ,CAAGK,KAAK,CAACQ,KAAN,EAAjB,CACA,GAAID,IAAI,GAAK,EAAb,CAAiB,CACfZ,QAAQ,CAACY,IAAT,CAAc,SAACE,CAAD,CAAIC,CAAJ,QACZH,CAAAA,IAAI,GAAK,aAAT,CACIE,CAAC,CAACE,KAAF,CAAUD,CAAC,CAACC,KAAZ,CACE,CADF,CAEE,CAAC,CAHP,CAIIF,CAAC,CAACE,KAAF,CAAUD,CAAC,CAACC,KAAZ,CACA,CADA,CAEA,CAAC,CAPO,EAAd,EASD,CAVD,IAUO,CACLhB,QAAQ,CAACY,IAAT,CAAc,SAACE,CAAD,CAAIC,CAAJ,QAAWD,CAAAA,CAAC,CAACG,EAAF,CAAOF,CAAC,CAACE,EAAT,CAAc,CAAd,CAAkB,CAAC,CAA9B,EAAd,EACD,CACDzB,QAAQ,CAAC,CACPS,IAAI,CAAEX,uBADC,CAEPY,OAAO,CAAE,CACPU,IAAI,CAAEA,IADC,CAEPP,KAAK,CAAEL,QAFA,CAFF,CAAD,CAAR,CAOD,CAtB2B,EAArB","sourcesContent":["import {\n    FETCH_PRODUCTS,\n    FILTER_PRODUCTS_BY_SIZE,\n    ORDER_PRODUCTS_BY_PRICE,\n  } from \"./types\";\n  \n  export const fetchProducts = () => (dispatch) => {\n    fetch(\"http://localhost:8000/products\")\n      .then((res) => res.json())\n      .catch((err) =>\n        fetch(\"db.json\")\n          .then((res) => res.json())\n          .then((data) => data.products)\n      )\n      .then((data) => {\n        dispatch({ type: FETCH_PRODUCTS, payload: data });\n      });\n  };\n  \n  export const filterProducts = (products, size) => (dispatch) => {\n    dispatch({\n      type: FILTER_PRODUCTS_BY_SIZE,\n      payload: {\n        size: size,\n        items:\n          size === \"\"\n            ? products\n            : products.filter(\n                (x) => x.category.indexOf(size.toUpperCase()) >= 0\n              ),\n      },\n    });\n  };\n  \n  export const sortProducts = (items, sort) => (dispatch) => {\n    const products = items.slice();\n    if (sort !== \"\") {\n      products.sort((a, b) =>\n        sort === \"lowestprice\"\n          ? a.price > b.price\n            ? 1\n            : -1\n          : a.price < b.price\n          ? 1\n          : -1\n      );\n    } else {\n      products.sort((a, b) => (a.id > b.id ? 1 : -1));\n    }\n    dispatch({\n      type: ORDER_PRODUCTS_BY_PRICE,\n      payload: {\n        sort: sort,\n        items: products,\n      },\n    });\n  };"]},"metadata":{},"sourceType":"module"}